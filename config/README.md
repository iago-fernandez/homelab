# Configuration and Persistence

This directory serves as the root for all persistent state management. By decoupling configuration from the container stack, the infrastructure ensures data sovereignty and simplifies backup operations.

## Directory Hierarchy

The repository strictly tracks the structural baseline containing declarative configuration files. Additional volume directories are dynamically generated by Docker Compose during the initial deployment.

* `automation/`: Contains Home Assistant configurations and blueprints.
* `database/`: Hosts the raw data subdirectories for `mariadb` and `postgres`.
* `monitoring/homepage/`: Stores the internal dashboard layouts and service configurations (`services.yaml`).
* `proxy/`: Managed by Nginx Proxy Manager for certificates and access lists.
* `storage/`: Dynamically provisioned at runtime for Seafile metadata and block storage.
* `web/`: Dynamically provisioned at runtime for static portfolio assets.

## Backup Strategy

Since all state is confined to this directory, a complete system backup can be achieved by archiving this folder structure.

```bash
# Example backup command
tar -czvf homelab-config-backup.tar.gz ~/homelab/config
```